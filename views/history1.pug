doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Lịch sử bật tắt thiết bị
    link(rel="stylesheet", href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css")
    link(rel="stylesheet", href="/css/history1.css")
    link(rel="stylesheet", href="/css/footer.css")
    link(rel="stylesheet", href="/css/header.css")
    link(rel="stylesheet", href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css")
  body
    .wrapper
      include ./header/header.pug
      .container.mt-5
        h2 Lịch sử bật tắt thiết bị
        form(action="", method="GET", class="mb-4 form-search d-flex justify-content-between align-items-center", id="filterForm")
          .form-group
            label(for="deviceFilter") Thiết bị
            select#deviceFilter.form-control(name="deviceFilter")
              option(value="all" selected=(deviceFilter === 'all' || deviceFilter === undefined)) Tất cả
              option(value="Đèn" selected=(deviceFilter === 'Đèn')) Đèn
              option(value="Quạt" selected=(deviceFilter === 'Quạt')) Quạt
              option(value="Điều hoà" selected=(deviceFilter === 'Điều hoà')) Điều hoà
          .form-group
            label(for="limitSelect") Số bản ghi mỗi trang
            select#limitSelect.form-control(name="limit")
              option(value="10" selected=(limit == 10)) 10
              option(value="25" selected=(limit == 25)) 25
              option(value="50" selected=(limit == 50)) 50
              option(value="100" selected=(limit == 100)) 100
          .form-group
            label(for="sortOrder") Thời gian
            select#sortOrder.form-control(name="sortOrder")
              option(value="asc" selected=(sortOrder === 'asc')) Tăng dần
              option(value="desc" selected=(sortOrder === 'desc')) Giảm dần
          .form-group
            label(for="statusFilter") Trạng thái
            select#statusFilter.form-control(name="statusFilter")
              option(value="all" selected=(statusFilter === 'all' || statusFilter === undefined)) Tất cả
              option(value="on" selected=(statusFilter === 'on')) Bật
              option(value="off" selected=(statusFilter === 'off')) Tắt
          .form-group
            label(for="dateFilter") Ngày
            input#dateFilter.form-control(type="date", name="dateFilter", value=(dateFilter || ''))
          .form-group
            label(for="timeFilter") Giờ
            input#timeFilter.form-control(type="time", name="timeFilter", step="1", value=(timeFilter || '')) 
          button.btn.btn-primary#filterButton(type="submit") Lọc

        div#tableWrapper
          table#deviceTable.table.table-striped
            thead
              tr
                th STT
                th Thiết bị
                th Trạng thái
                th Thời điểm
            tbody

        nav.mt-4
          ul.pagination.justify-content-center#paginationWrapper

    script(src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js")
    script(src="https://code.jquery.com/jquery-3.3.1.slim.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js")
    script(src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js")
    script(src="/js/history1.js")
